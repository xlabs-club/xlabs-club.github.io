<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Java on XLabs</title><link>https://www.xlabs.club/categories/java/</link><description>Recent content in Java on XLabs</description><generator>Hugo</generator><language>zh</language><copyright>Copyright (c) 2020-2025 XLabs Club</copyright><lastBuildDate>Sat, 20 Dec 2025 16:19:10 +0800</lastBuildDate><atom:link href="https://www.xlabs.club/categories/java/index.xml" rel="self" type="application/rss+xml"/><item><title>Spring Boot 3 åˆ° 4 è¿ç§»å®Œå…¨æŒ‡å—ï¼šæ–°ç‰¹æ€§ã€åºŸå¼ƒåŠŸèƒ½ä¸å®æˆ˜è¸©å‘ç»éªŒ</title><link>https://www.xlabs.club/blog/migration-spring-boot-3-to-4/</link><pubDate>Tue, 25 Nov 2025 23:20:22 +0800</pubDate><guid>https://www.xlabs.club/blog/migration-spring-boot-3-to-4/</guid><description>&lt;p&gt;2025 å¹´ 11 æœˆï¼ŒSpring Boot 4.0 æ­£å¼å‘å¸ƒï¼Œè¿™æ¬¡å‡çº§è¢«ä¸šç•Œç§°ä¸º&lt;strong&gt;çˆ†ç‚¸æ€§å‡çº§&lt;/strong&gt;ã€‚åŒæ—¶å¯¹äºäº‘åŸç”Ÿåº”ç”¨è€Œè¨€ï¼Œè¿™æ˜¯ä¸€æ¬¡&lt;strong&gt;ä¸å¯é”™è¿‡çš„æ€§èƒ½ä¸æ•ˆç‡è·ƒè¿&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ğŸ³ &lt;strong&gt;å®¹å™¨åŒ–å‹å¥½&lt;/strong&gt;ï¼šæ¨¡å—åŒ–æ¶æ„å‡å°‘ 30-50% è¿è¡Œæ—¶å ç”¨ï¼Œé•œåƒæ›´å°ã€å¯åŠ¨æ›´å¿«&lt;/li&gt;
&lt;li&gt;âš¡ &lt;strong&gt;å¯åŠ¨é€Ÿåº¦æå‡ 30-50%&lt;/strong&gt;ï¼šå¤šçº¿ç¨‹å¼‚æ­¥å¯åŠ¨æœºåˆ¶ï¼Œå®¹å™¨å†·å¯åŠ¨æ—¶é—´æ˜¾è‘—ç¼©çŸ­ï¼Œæ›´é€‚åˆ Kubernetes å¿«é€Ÿæ‰©ç¼©å®¹&lt;/li&gt;
&lt;li&gt;ğŸš€ &lt;strong&gt;2-3 å€ååé‡æå‡&lt;/strong&gt;ï¼šè™šæ‹Ÿçº¿ç¨‹åŸç”Ÿæ”¯æŒï¼ŒI/O å¯†é›†å‹å¾®æœåŠ¡èµ„æºåˆ©ç”¨ç‡å¤§å¹…æå‡ï¼Œå•å®ä¾‹å¯æ‰¿è½½æ›´é«˜å¹¶å‘&lt;/li&gt;
&lt;li&gt;ğŸ¯ &lt;strong&gt;äº‘åŸç”Ÿç‰¹æ€§å¢å¼º&lt;/strong&gt;ï¼šå†…ç½®å¼¹æ€§åŠŸèƒ½ï¼ˆé‡è¯•ã€é™æµï¼‰ã€HTTP æ¥å£å®¢æˆ·ç«¯è‡ªåŠ¨é…ç½®ï¼Œç®€åŒ–å¾®æœåŠ¡é—´é€šä¿¡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä½†è¿™æ¬¡å‡çº§ä¹Ÿå¸¦æ¥äº† 36 ä¸ªåºŸå¼ƒ API ç§»é™¤ã€æ¨¡å—åŒ–æ¶æ„é‡æ„ã€Tomcat 11 å˜æ›´ç­‰æŒ‘æˆ˜ã€‚æœ¬æ–‡åŸºäº Spring Boot å®˜æ–¹æ–‡æ¡£å’Œç”Ÿäº§ç¯å¢ƒè¿ç§»ç»éªŒï¼Œä»åŸç†åˆ°è¸©å‘ï¼Œæä¾›&lt;strong&gt;å®Œæ•´ã€å®ç”¨çš„è¿ç§»æŒ‡å—&lt;/strong&gt;ï¼ŒåŠ©ä½ å¹³ç¨³å®Œæˆäº‘åŸç”Ÿåº”ç”¨çš„å‡çº§ã€‚&lt;/p&gt;
&lt;h2 id="spring-boot-40-æ ¸å¿ƒæ–°ç‰¹æ€§"&gt;Spring Boot 4.0 æ ¸å¿ƒæ–°ç‰¹æ€§&lt;/h2&gt;
&lt;p&gt;ä½œä¸º Spring Boot 3.x ä¹‹åçš„é¦–ä¸ªå¤§ç‰ˆæœ¬æ›´æ–°ï¼ŒSpring Boot 4.0 åŸºäº Spring Framework 7.0ã€Jakarta EE 11 å’Œ Java 17+ï¼ˆæ¨è Java 21 æˆ– 25ï¼‰ï¼Œå¸¦æ¥äº†æ¨¡å—åŒ–æ¶æ„é‡æ„ã€è™šæ‹Ÿçº¿ç¨‹åŸç”Ÿæ”¯æŒã€HTTP æœåŠ¡å®¢æˆ·ç«¯è‡ªåŠ¨é…ç½®ç­‰é‡å¤§å˜åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;Spring Boot 4.0 é…å¥—ä½¿ç”¨ &lt;strong&gt;Spring Cloud 2025.1.x&lt;/strong&gt;ã€‚è™½ç„¶ç‰ˆæœ¬å·çœ‹èµ·æ¥åªæ˜¯ä¸­å·ç‰ˆæœ¬å˜æ›´ï¼Œä½†å®é™…ä¸Šè¿™æ˜¯ä¸€æ¬¡&lt;strong&gt;å¤§ç‰ˆæœ¬å˜æ›´&lt;/strong&gt;ï¼ŒåŒ…å«äº†å¤§é‡ç ´åæ€§å˜æ›´å’Œé‡è¦æ›´æ–°ã€‚&lt;/p&gt;
&lt;h3 id="æ¨¡å—åŒ–æ¶æ„"&gt;æ¨¡å—åŒ–æ¶æ„&lt;/h3&gt;
&lt;p&gt;Spring Boot 4 å°† &lt;code&gt;spring-boot-autoconfigure&lt;/code&gt; æ‹†åˆ†ä¸ºå¤šä¸ªä¸“æ³¨çš„æ¨¡å—ï¼Œæ¯ä¸ªæŠ€æœ¯éƒ½æœ‰ç‹¬ç«‹çš„ starter å’Œå¯¹åº”çš„æµ‹è¯• starterã€‚&lt;/p&gt;</description></item><item><title>Javax å’Œ Jakarta è¿‡æ¸¡æœŸå…¼å®¹æ–¹æ¡ˆ</title><link>https://www.xlabs.club/blog/javax-jakarta-compatibility/</link><pubDate>Sun, 14 Sep 2025 14:33:23 +0800</pubDate><guid>https://www.xlabs.club/blog/javax-jakarta-compatibility/</guid><description>&lt;h2 id="ä»€ä¹ˆæ˜¯-jakarta-eeä¸ºä»€ä¹ˆè¦åˆ‡æ¢"&gt;ä»€ä¹ˆæ˜¯ Jakarta EEï¼Œä¸ºä»€ä¹ˆè¦åˆ‡æ¢&lt;/h2&gt;
&lt;p&gt;Jakarta EE å°±æ˜¯ Java EE çš„æ–°åè¯ã€‚è¿™é‡Œçš„ EE å…¨ç§°æ˜¯ Enterprise Editionï¼Œå®ƒæ˜¯ä¸“é—¨ä¸ºä¼ä¸šçº§ Java åº”ç”¨å®šä¹‰çš„ä¸€å¥—è§„èŒƒï¼Œä¸ Java SE (Java Platform, Standard Edition) ç›¸å¯¹åº”ã€‚&lt;/p&gt;
&lt;p&gt;Java EE æ˜¯ä» Java 1.2 ç‰ˆæœ¬å¼€å§‹æ¨å‡ºçš„ Java ä¼ä¸šçº§å¼€å‘å¹³å°ï¼Œæœ€åˆçš„åç§°æ˜¯ J2EE (Java 2 Platform, Enterprise Edition)ã€‚éšç€ Java çš„å‘å±•ï¼Œå®ƒçš„åç§°äº Java 1.5 ç‰ˆæœ¬æ—¶æ›´æ”¹ä¸º Java EE (Java Platform, Enterprise Edition)ã€‚2009 å¹´ Oracle æ”¶è´­äº† Sunï¼ŒJava EE å¼€å§‹ç”± Oracle é€šè¿‡ JCP (Java Community Process) å¼€å‘å’Œç»´æŠ¤ã€‚&lt;/p&gt;
&lt;p&gt;ç›´åˆ° 2017 å¹´ï¼ŒOracle å°† Java EE æäº¤ç»™äº† Eclipse åŸºé‡‘ä¼šï¼Œå¹¶å‘½åä¸º Eclipse Enterprise for Javaã€‚ç„¶è€Œï¼Œ&lt;strong&gt;ç”±äº&amp;quot;Java&amp;quot;è¿™ä¸ªåå­—çš„å•†æ ‡å½’ Oracle æ‰€æœ‰ï¼ŒEclipse åŸºé‡‘ä¼šæ— æ³•ç»§ç»­ä½¿ç”¨ &lt;code&gt;javax.*&lt;/code&gt; å’Œ &lt;code&gt;java.*&lt;/code&gt;ï¼Œå› æ­¤ï¼Œé¡¹ç›®åç§°æ”¹ä¸º Jakarta EE&lt;/strong&gt;ã€‚&lt;/p&gt;</description></item><item><title>é¢„é˜²å’Œæ¶ˆç­æŠ€æœ¯å€ºï¼šMaven CI å¦‚ä½•åœ¨ç¼–è¯‘æ—¶ç¦æ­¢è°ƒç”¨æŸäº›ç‰¹å®š API</title><link>https://www.xlabs.club/blog/ci-maven-forbidden-api/</link><pubDate>Tue, 09 Sep 2025 22:18:59 +0800</pubDate><guid>https://www.xlabs.club/blog/ci-maven-forbidden-api/</guid><description>&lt;p&gt;åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°ç±»ä¼¼å¦‚ä¸‹éœ€æ±‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é¡¹ç›®ç»„æä¾›äº† SDKï¼ŒæŸä¸ª API å·²ç»è¢«æ ‡è®°ä¸ºåºŸå¼ƒï¼Œä½†æ˜¯å¤§å®¶è¿Ÿè¿Ÿä¸å‡çº§ï¼Œé¡¹ç›®ç»„è¿˜éœ€è¦èŠ±è´¹æ—¶é—´ç»´æŠ¤å·²ç»åºŸå¼ƒçš„ APIã€‚&lt;/li&gt;
&lt;li&gt;æœ‰äº›é¡¹ç›®åœ¨ä½¿ç”¨ JDK å·²ç»åºŸå¼ƒçš„ APIï¼Œè¿™äº›åºŸå¼ƒ API åœ¨æ›´é«˜ç‰ˆæœ¬ JDK ä¸­å·²ç»åˆ é™¤ï¼Œå¯¼è‡´æ¨åŠ¨å‡çº§ JDK æ¯”è¾ƒå›°éš¾ã€‚&lt;/li&gt;
&lt;li&gt;æœ‰äº›é¡¹ç›®ä¼šè·¨ç‰ˆæœ¬æ··åˆç¼–è¯‘ï¼Œæ¯”å¦‚ç”¨ Java 8 ç¼–è¯‘è¿è¡Œåœ¨ Java 21 ä¸Šï¼Œå¸¸è§çš„é”™è¯¯æ¯”å¦‚ &lt;code&gt;javafx.util&lt;/code&gt; åœ¨ Java 21 é»˜è®¤å·²ç»å»æ‰äº†ï¼Œå°±ä¼šå‡ºç°ç¼–è¯‘æˆåŠŸå´è¿è¡Œæ—¶å¤±è´¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‰€ä»¥æˆ‘ä»¬æƒ³æä¾›ä¸€ç§æ–¹æ¡ˆï¼Œèƒ½ä¸èƒ½åœ¨ç¼–è¯‘æœŸå°±å¼ºåˆ¶ç¦ç”¨æŸäº› APIï¼Œä¸»åŠ¨é˜»æ­¢è®©ç¼–è¯‘ä¸é€šè¿‡ï¼Œæå‰æŠ¥é”™åŠæ—©å‘ç°åŠæ—©å¤„ç†ã€‚&lt;/p&gt;
&lt;h2 id="å®ç°æ–¹æ¡ˆ"&gt;å®ç°æ–¹æ¡ˆ&lt;/h2&gt;
&lt;p&gt;å½“å‰æˆ‘ä»¬ä½¿ç”¨ maven &lt;a href="https://github.com/policeman-tools/forbidden-apis" target="_blank" rel="noopener"&gt;forbiddenapis&lt;/a&gt;
 æ’ä»¶ï¼Œç»“åˆ CI æµç¨‹æ¥å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;æ‰§è¡Œæ•ˆæœï¼Œå¦‚æœæœ‰ä½¿ç”¨ç¦ç”¨çš„ APIï¼Œèƒ½çœ‹åˆ°ç±»ä¼¼å¦‚ä¸‹é”™è¯¯æç¤ºï¼Œç¼–è¯‘å¤±è´¥å¹¶ç»™å‡ºåŸå› ã€‚&lt;/p&gt;



&lt;div class="expressive-code"&gt;
 &lt;figure class="frame not-content"&gt;
 &lt;figcaption class="header"&gt;
 &lt;span class="title"&gt;&lt;/span&gt;
 &lt;/figcaption&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-console" data-lang="console"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="go"&gt;12:40:30.647 [INFO]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="go"&gt;12:40:30.648 [INFO] --- forbiddenapis:3.9:check (check-forbidden-apis) @ app-biz ---
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="go"&gt;12:40:30.657 [INFO] Scanning for classes to check...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="go"&gt;12:40:30.661 [INFO] Reading bundled API signatures: jdk-deprecated-1.8
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="go"&gt;12:40:30.694 [INFO] Reading API signatures: /usr/share/maven/conf/forbidden-apis.txt
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="go"&gt;12:40:30.694 [INFO] Loading classes to check...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="go"&gt;12:40:30.695 [INFO] Scanning classes for violations...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="go"&gt;12:40:30.849 [ERROR] Forbidden class/interface use: javafx.util.Pair [ç¦æ­¢ä½¿ç”¨ JavaFX ç›¸å…³ç±»]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="go"&gt;12:40:30.850 [ERROR] in com.tester.HomeController (HomeController.java:11)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="go"&gt;12:40:30.865 [ERROR] Scanned 13 class file(s) for forbidden API invocations (in 0.21s), 1 error(s).
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="go"&gt;12:40:30.872 [INFO] ------------------------------------------------------------------------
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="go"&gt;&lt;/span&gt;&lt;span class="err"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="err"&gt;&lt;/span&gt;&lt;span class="go"&gt;24784 [INFO] --- forbiddenapis:3.9:check (check-forbidden-apis) @ app-api ---
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="go"&gt;24812 [INFO] Scanning for classes to check...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="go"&gt;24884 [INFO] Reading bundled API signatures: jdk-deprecated-1.8
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="go"&gt;25016 [INFO] Reading API signatures: /usr/share/maven/conf/forbidden-apis.txt
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="go"&gt;25017 [INFO] Loading classes to check...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="go"&gt;25106 [INFO] Scanning classes for violations...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="go"&gt;25984 [ERROR] Forbidden method invocation: java.net.URLEncoder#encode(java.lang.String) [Deprecated in Java 1.8]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="go"&gt;25984 [ERROR] in com.tester.FormBody$FormBodyBuilder (FormBody.java:60)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="go"&gt;26110 [ERROR] Scanned 660 class file(s) for forbidden API invocations (in 1.31s), 2 error(s).
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="go"&gt;26113 [INFO]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
 &lt;/figure&gt;
&lt;/div&gt;
&lt;h3 id="maven-æ ¸å¿ƒé…ç½®"&gt;Maven æ ¸å¿ƒé…ç½®&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆï¼Œåœ¨çˆ¶ pom é‡Œå¢åŠ äº†ä»¥ä¸‹ç‰‡æ®µï¼Œæ­¤å†…å®¹ä¸»è¦å«ä¹‰ï¼š&lt;/p&gt;</description></item><item><title>Koupleless è¯•ç”¨æŠ¥å‘Šæ€»ç»“ï¼Œè¸©å‘è®°å½•åˆ†äº«</title><link>https://www.xlabs.club/blog/koupleless-first-boot/</link><pubDate>Mon, 27 May 2024 14:20:24 +0800</pubDate><guid>https://www.xlabs.club/blog/koupleless-first-boot/</guid><description>&lt;p&gt;æˆ‘ä»¬å…¬å¸çš„ä¸»è¦åº”ç”¨éƒ½æ˜¯ä»¥ Java ä½œä¸ºå¼€å‘è¯­è¨€ï¼Œè¿™å‡ å¹´éšç€ä¸šåŠ¡çš„é«˜é€Ÿå¢é•¿ï¼Œåº”ç”¨æ•°ç›®è¶Šæ¥è¶Šå¤šï¼ŒCPU å†…å­˜èµ„æºå ç”¨è¶Šæ¥è¶Šå¤šï¼Œé¡¹ç›®ç»„ä¹‹é—´å¼€å‘åˆä½œæ•ˆç‡ä¹Ÿè¶Šæ¥è¶Šä½ã€‚&lt;/p&gt;
&lt;p&gt;é¡ºåº”è¿™ä¸ªæ—¶ä»£é™æœ¬å¢æ•ˆçš„ç›®çš„ï¼Œæˆ‘ä»¬å¸Œæœ›å¯»æ‰¾ä¸€ä¸ªèƒ½è§£å†³å½“å‰å‡ ä¸ªæ ¸å¿ƒé—®é¢˜çš„æ¡†æ¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¨¡å—åŒ–å¼€å‘ã€éƒ¨ç½²ã€èµ„æºå…±äº«çš„èƒ½åŠ›ï¼Œå‡å°‘ Cacheã€Class ç­‰èµ„æºå ç”¨ï¼Œæœ‰æ•ˆé™ä½å†…å­˜å ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;æ›´å¿«æ›´è½»çš„ä¾èµ–ï¼Œåº”ç”¨èƒ½å¤Ÿæ›´å¿«çš„å¯åŠ¨ã€‚&lt;/li&gt;
&lt;li&gt;èƒ½å¤Ÿè®©å„ä¸ªé¡¹ç›®ç»„ä¸æ”¹ä»£ç æˆ–å°‘æ”¹ä»£ç å³å¯æ¥å…¥ï¼Œæ§åˆ¶å¼€å‘è¿ç§»çš„æˆæœ¬ï¼Œæ¯•ç«Ÿå¾ˆå¤šå†å²è€åº”ç”¨ä¸æ˜¯é‚£ä¹ˆå®¹æ˜“è¿ç§»ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åŸºäºä»¥ä¸ŠèƒŒæ™¯ï¼Œæˆ‘ä»¬åœ¨ 2022 å¹´åŸºäº SOFAArk è¿è¡Œäº†ä¸€ä¸ªç‰ˆæœ¬ï¼Œæ•ˆæœä¸å¤ªç†æƒ³æš‚æ—¶æç½®ã€‚ä»Šå¹´ Koupleless é‡æ–°å¼€æºååšäº†ä¸€äº›å¢å¼ºå’Œå˜æ›´ï¼Œå¼€æºç¤¾åŒºæ´»è·ƒåº¦æœ‰æ‰€æå‡ï¼Œçœ‹å®£ä¼ æ•ˆæœå¾ˆå¥½ï¼Œæˆ‘ä»¬å†³å®šé‡æ–°è¯„ä¼°æ˜¯å¦å¯åœ¨å…¬å¸å†…æ¨å¹¿ã€‚&lt;/p&gt;
&lt;h2 id="ä»€ä¹ˆæ˜¯-koupleless"&gt;ä»€ä¹ˆæ˜¯ Koupleless&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://koupleless.io/home/" target="_blank" rel="noopener"&gt;Koupleless&lt;/a&gt;
 æ˜¯ä¸€ç§æ¨¡å—åŒ– Serverless æŠ€æœ¯è§£å†³æ–¹æ¡ˆï¼Œå®ƒèƒ½è®©æ™®é€šåº”ç”¨ä½æˆæœ¬æ¼”è¿›ä¸º Serverless ç ”å‘æ¨¡å¼ï¼Œè®©ä»£ç ä¸èµ„æºè§£è€¦ï¼Œè½»æ¾ç‹¬ç«‹ç»´æŠ¤ï¼Œ ä¸æ­¤åŒæ—¶æ”¯æŒç§’çº§æ„å»ºéƒ¨ç½²ã€åˆå¹¶éƒ¨ç½²ã€åŠ¨æ€ä¼¸ç¼©ç­‰èƒ½åŠ›ä¸ºç”¨æˆ·æä¾›æè‡´çš„ç ”å‘è¿ç»´ä½“éªŒï¼Œæœ€ç»ˆå¸®åŠ©ä¼ä¸šå®ç°é™æœ¬å¢æ•ˆã€‚&lt;/p&gt;
&lt;p&gt;Koupleless æ˜¯èš‚èšé›†å›¢å†…éƒ¨ç»è¿‡ 5 å¹´æ‰“ç£¨æˆç†Ÿçš„ç ”å‘æ¡†æ¶å’Œè¿ç»´è°ƒåº¦å¹³å°èƒ½åŠ›ï¼Œç›¸è¾ƒäºä¼ ç»Ÿé•œåƒåŒ–çš„åº”ç”¨æ¨¡å¼ç ”å‘ã€è¿ç»´ã€è¿è¡Œé˜¶æ®µéƒ½æœ‰ 10 å€å·¦å³çš„æå‡ï¼Œæ€»ç»“èµ·æ¥ 5 å¤§ç‰¹ç‚¹ï¼šå¿«ã€çœã€çµæ´»éƒ¨ç½²ã€å¹³æ»‘æ¼”è¿›ã€ç”Ÿäº§è§„æ¨¡åŒ–éªŒè¯ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šéƒ½æ˜¯å®˜ç½‘çš„å®£ä¼ ï¼Œæ›´å¤šä»‹ç»è¯·é“¾æ¥åˆ°å®˜ç½‘æŸ¥çœ‹ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æ•´ä¸ª Koupleless å¹³å°é‡Œï¼Œéœ€è¦å››ä¸ªç»„ä»¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç ”å‘å·¥å…· Arkctl, æä¾›æ¨¡å—åˆ›å»ºã€å¿«é€Ÿè”è°ƒæµ‹è¯•ç­‰èƒ½åŠ›ã€‚&lt;/li&gt;
&lt;li&gt;è¿è¡Œç»„ä»¶ SOFAArk, Arkletï¼Œæä¾›æ¨¡å—è¿ç»´ã€æ¨¡å—ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œå¤šæ¨¡å—è¿è¡Œç¯å¢ƒã€‚ï¼ˆè¿™ç®—ä¸¤ä¸ªç»„ä»¶ï¼Ÿï¼‰&lt;/li&gt;
&lt;li&gt;æ§åˆ¶é¢ç»„ä»¶ ModuleControllerï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª K8S Operatorï¼Œæä¾›æ¨¡å—å‘å¸ƒä¸è¿ç»´èƒ½åŠ›ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘ä»¬å…¬å¸æœ‰è‡ªå·±çš„å‘å¸ƒç³»ç»Ÿã€åº”ç”¨ç®¡ç†å¹³å°ï¼Œå¾ˆå°‘å…è®¸è¿è¡Œé¢å¤–çš„æ§åˆ¶é¢ç»„ä»¶ï¼Œé‚£ä¹ˆé™¤å» ModuleControllerï¼Œæˆ‘ä¸ªäººè®¤ä¸ºï¼ŒKoupleless çº¦ç­‰äº SOFAArkã€‚&lt;/p&gt;
&lt;p&gt;Koupleless å¢å¼ºäº† SOFAArk è¿ç»´éƒ¨ç½²ç›¸å…³çš„åŠŸèƒ½ï¼Œè§£å†³äº† SOFAArk åœ¨ä¼ä¸šå†…æ— æ³•å¼€ç®±å³ç”¨çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;h2 id="åº”ç”¨æ¥å…¥é‡è§é—®é¢˜"&gt;åº”ç”¨æ¥å…¥é‡è§é—®é¢˜&lt;/h2&gt;
&lt;p&gt;åŸºäºå®˜æ–¹æ–‡æ¡£æˆ‘ä»¬æ”¹é€ æ¥å…¥äº†å‡ ä¸ªåº”ç”¨ï¼Œåˆ†äº«å‡ ä¸ªæˆ‘ä»¬é‡è§çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å¯¹ Java 17 æˆ– 21 çš„æ”¯æŒä¸å¥½ã€‚
è™½ç„¶å®˜æ–¹å·²ç»å£°ç§°æ”¯æŒ Java 17ï¼Œä½†æ˜¯è‹¥ç”¨äº† Java 17 çš„è¯­æ³•æˆ–æ–°ç‰¹æ€§ï¼Œæ— æ³•ç¼–è¯‘é€šè¿‡ã€‚æœ€ååªå¥½è‡ªç¼–è¯‘ SOFAArk plugin ä¿®æ”¹ç›¸å…³ä¾èµ–è§£å†³ã€‚&lt;/p&gt;</description></item><item><title>Java 25 å®Œæ•´å‡çº§æŒ‡å—ï¼šä» Java 8 åˆ° Java 25 æ–°ç‰¹æ€§ã€æ€§èƒ½ä¼˜åŒ–ã€è¿ç§»å®æˆ˜å…¨è§£æ</title><link>https://www.xlabs.club/blog/migrating-java8-to-java25/</link><pubDate>Thu, 23 May 2024 21:03:11 +0800</pubDate><guid>https://www.xlabs.club/blog/migrating-java8-to-java25/</guid><description>å…¨é¢è§£æ Java 25 æ–°ç‰¹æ€§ä¸å‡çº§å®æˆ˜ï¼ŒåŒ…å«æ€§èƒ½ä¼˜åŒ–ã€è¿ç§»å·¥å…·ã€é¿å‘æŒ‡å—</description></item><item><title>Spring Boot Start è„šæ‰‹æ¶å®šåˆ¶å¼€å‘å’Œå¿«é€Ÿå…¥é—¨</title><link>https://www.xlabs.club/blog/spring-boot-start-site/</link><pubDate>Sat, 09 Mar 2024 14:29:03 +0800</pubDate><guid>https://www.xlabs.club/blog/spring-boot-start-site/</guid><description>&lt;p&gt;ä»‹ç»åŸºäº &lt;code&gt;start.spring.io&lt;/code&gt; å¿«é€Ÿå®šåˆ¶è‡ªå·±çš„ Spring Boot è„šæ‰‹æ¶ï¼Œä¸»è¦åº”ç”¨åœºæ™¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è§„èŒƒå…¬å¸è‡ªå·±çš„ parent pomï¼Œå¢åŠ ç‰¹å®šçš„ä¾èµ–é¡¹ã€‚&lt;/li&gt;
&lt;li&gt;æ ¹æ®å…¬å¸è§„èŒƒç”Ÿæˆç»Ÿä¸€çš„åŒ…ç»“æ„ï¼Œç»Ÿä¸€å‘½åã€‚&lt;/li&gt;
&lt;li&gt;æ ¹æ®éœ€è¦å¢åŠ ç‰¹å®šä»£ç æˆ–æ–‡ä»¶ï¼Œæ¯”å¦‚æ ¹æ®å…¬å¸è¦æ±‚ç»Ÿä¸€ logback.xmlã€ application.properties æ–‡ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;æä¾›å…¬å¸è‡ªç ”çš„äºŒæ–¹ jar åŒ…ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="å¿«é€Ÿå¼€å§‹"&gt;å¿«é€Ÿå¼€å§‹&lt;/h2&gt;
&lt;p&gt;åŸºæœ¬æ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¯¹äº &lt;a href="https://github.com/spring-io/initializr" target="_blank" rel="noopener"&gt;spring.initializr&lt;/a&gt;
 æˆ‘ä»¬æ²¡æœ‰å®šåˆ¶çš„éœ€æ±‚ï¼Œç›´æ¥å¼•ç”¨å®˜æ–¹çš„ã€‚&lt;/li&gt;
&lt;li&gt;æ‹·è´ä¸€ä»½ &lt;a href="https://github.com/spring-io/start.spring.io" target="_blank" rel="noopener"&gt;start.spring.io&lt;/a&gt;
ï¼Œç›´æ¥åŸºäºè¿™ä¸ªé¡¹ç›®å¼€å‘ã€éƒ¨ç½²ã€è¿è¡Œã€‚ä»¥ä¸‹éƒ½æ˜¯å…³äºå¦‚ä½•ä¿®æ”¹ &lt;code&gt;start.spring.io&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;start.spring.io&lt;/code&gt; ä¸»è¦å…³æ³¨ä¸¤ä¸ªæ¨¡å—ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;start-clientï¼šå‰ç«¯é¡µé¢ï¼Œå¯ä»¥å®šåˆ¶äº›è‡ªå·±çš„ logoã€title ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;start-siteï¼šæ˜¯ä¸€ä¸ªæ ‡å‡†çš„ spring boot é¡¹ç›®ï¼Œå®é™… run èµ·æ¥çš„æœåŠ¡ï¼Œå¼•ç”¨äº† start-clientï¼Œç›´æ¥ run è¿™ä¸ªé¡¹ç›®çš„ main æ–¹æ³•å°±èƒ½çœ‹åˆ°æ•ˆæœã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸»è¦é…ç½®æ–‡ä»¶ï¼š&lt;code&gt;start-site/src/main/resources/application.yml&lt;/code&gt;ï¼Œé€šè¿‡ä¿®æ”¹è¿™ä¸ªé…ç½®æ–‡ä»¶å¯ä»¥è¾¾åˆ°çš„æ•ˆæœå¦‚ä¸‹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä¿®æ”¹ start å¯åŠ¨æ—¶é»˜è®¤ groupï¼ŒæŠŠ &lt;code&gt;com.example&lt;/code&gt; æ”¹ä¸ºå…¬å¸è‡ªå·±çš„ groupã€‚&lt;/p&gt;



&lt;div class="expressive-code"&gt;
 &lt;figure class="frame not-content"&gt;
 &lt;figcaption class="header"&gt;
 &lt;span class="title"&gt;&lt;/span&gt;
 &lt;/figcaption&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nt"&gt;initializr&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;group-id&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;value&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;com.yourgroup&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
 &lt;/figure&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¿®æ”¹çˆ¶ pomï¼Œä½¿ç”¨å…¬å¸è‡ªå·±çš„ pomã€‚&lt;/p&gt;



&lt;div class="expressive-code"&gt;
 &lt;figure class="frame not-content"&gt;
 &lt;figcaption class="header"&gt;
 &lt;span class="title"&gt;&lt;/span&gt;
 &lt;/figcaption&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nt"&gt;initializr&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;env&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;maven&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# use your parent pom&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;parent&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;groupId&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;com.yourself&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;artifactId&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;your-parent&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;version&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1.0.0&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# relativePath: ../pom.xml&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;includeSpringBootBom&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kc"&gt;false&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
 &lt;/figure&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é™å®š Java å’Œ Spring Boot ç‰ˆï¼šä¿®æ”¹ languages å’Œ bootVersions å³å¯ã€‚&lt;/p&gt;</description></item><item><title>åŸºäº Alibaba Sentinel å®ç°çš„åˆ†å¸ƒå¼é™æµä¸­é—´ä»¶æœåŠ¡ä»¥åŠé‡åˆ°çš„å‘å’Œæ³¨æ„äº‹é¡¹</title><link>https://www.xlabs.club/blog/sentinel/</link><pubDate>Thu, 07 Mar 2024 21:06:10 +0800</pubDate><guid>https://www.xlabs.club/blog/sentinel/</guid><description>&lt;p&gt;åŸºäº Alibaba Sentinel å®ç°çš„åˆ†å¸ƒå¼é™æµä¸­é—´ä»¶æœåŠ¡ã€‚ä¸»è¦å¯¹æœåŠ¡æä¾›è€…æä¾›é™æµã€ç³»ç»Ÿä¿æŠ¤ï¼Œå¯¹æœåŠ¡è°ƒç”¨è€…æä¾›ç†”æ–­é™çº§ã€é™æµæ’é˜Ÿç­‰å¾…æ•ˆæœã€‚&lt;/p&gt;
&lt;p&gt;å®ç°ç›®æ ‡ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä½œä¸ºæœåŠ¡æä¾›è€…ï¼Œä¿æŠ¤è‡ªå·±ä¸è¢«æ‰“æ­»ï¼ŒæœåŠ¡å¯ä»¥æ…¢ä¸å¯ä»¥æŒ‚ã€‚&lt;/li&gt;
&lt;li&gt;ä½œä¸ºå®¢æˆ·ç«¯åŠæ—¶é™é€Ÿå’Œç†”æ–­ï¼Œé˜²æ­¢å¯¹æœåŠ¡æä¾›æ–¹åŒ…å« Httpã€æ•°æ®åº“ã€MQ ç­‰é€ æˆå¤ªå¤§å‹åŠ›ï¼Œé˜²æ­¢æŠŠç³Ÿç³•çš„æƒ…å†µå˜å¾—æ›´ç³Ÿã€‚&lt;/li&gt;
&lt;li&gt;ä»¥ç”¨æˆ·ã€ç§Ÿæˆ·ã€å¯¹è±¡ç­‰æ›´ç»†ç²’åº¦è¿›è¡Œæµé‡ç²¾ç»†æ§åˆ¶ã€‚&lt;/li&gt;
&lt;li&gt;æœåŠ¡é¢„çƒ­ï¼Œåº”ç”¨æ–°å‘å¸ƒä¸Šçº¿ï¼Œç¼“å­˜å°šæœªå®Œå…¨å»ºç«‹ï¼Œé˜²æ­¢æµé‡ä¸€ä¸‹å­æŠŠæœåŠ¡æ‰“æ­»ã€‚&lt;/li&gt;
&lt;li&gt;èƒ½å¤Ÿæ ¹æ® Prometheusã€ClickHouseã€Elasticsearch æä¾›çš„ç›‘æ§æŒ‡æ ‡ï¼ŒåŠ¨æ€ç”Ÿæˆè§„åˆ™ï¼Œè‡ªé€‚åº”è°ƒæ•´è§„åˆ™ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="æ¦‚è¿°"&gt;æ¦‚è¿°&lt;/h2&gt;
&lt;p&gt;Sentinel çš„åŸºç¡€çŸ¥è¯†è¯·å‚è€ƒå®˜æ–¹æ–‡æ¡£æè¿°ï¼Œè¿™é‡Œå•ç‹¬ä»‹ç»ä¸€äº›ä¸æˆ‘ä»¬å®šåˆ¶ç›¸å…³çš„å†…å®¹ã€‚&lt;/p&gt;
&lt;p&gt;é™æµç®€å•æ¥è¯´å°±ä¸‰ä¸ªç‚¹ï¼šèµ„æºã€è§„åˆ™ã€æ•ˆæœã€‚&lt;/p&gt;
&lt;p&gt;èµ„æºï¼šå°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²å¯ä»¥è‡ªå·±å®šä¹‰ã€å¯ä»¥ç”¨æ³¨è§£è‡ªåŠ¨ç”Ÿæˆã€å¯ä»¥é€šè¿‡æ‹¦æˆªå™¨æŒ‰è§„åˆ™ç”Ÿæˆã€‚&lt;/p&gt;
&lt;p&gt;è§„åˆ™ï¼šSentinel å®šä¹‰çš„ä¸€ç³»åˆ—é™æµä¿æŠ¤è§„åˆ™ï¼Œæ¯”å¦‚æµé‡æ§åˆ¶è§„åˆ™ã€è‡ªé€‚åº”ä¿æŠ¤è§„åˆ™ã€‚&lt;/p&gt;
&lt;p&gt;æ•ˆæœï¼šå®é™…ä¸Šâ€œæ•ˆæœâ€ä¹Ÿæ˜¯â€œè§„åˆ™â€å®šä¹‰çš„ä¸€éƒ¨åˆ†ã€‚ä»»ä½•ä¸€æ¡è¯·æ±‚ï¼Œå‘½ä¸­æŸäº›èµ„æºè§„åˆ™åäº§ç”Ÿçš„æ•ˆæœï¼Œæ¯”å¦‚ç›´æ¥æŠ›å‡ºå¼‚å¸¸ã€åŒ€é€Ÿç­‰å¾…ã€‚&lt;/p&gt;
&lt;h3 id="sentinel-å…¨å±€æ³¨æ„äº‹é¡¹å’Œä½¿ç”¨é™åˆ¶"&gt;Sentinel å…¨å±€æ³¨æ„äº‹é¡¹å’Œä½¿ç”¨é™åˆ¶&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨å¼€æºé»˜è®¤ Sentinel ç»„ä»¶ï¼Œæœ‰ä¸€äº›å‘ï¼Œæˆ–è€…è¯´éœ€è¦å…³æ³¨çš„æ³¨æ„äº‹é¡¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å•ä¸ªè¿›ç¨‹å†…èµ„æºæ•°é‡é˜ˆå€¼æ˜¯ 6000ï¼Œå¤šå‡ºçš„èµ„æºè§„åˆ™å°†ä¸ä¼šç”Ÿæ•ˆï¼ˆå› ä¸ºæ˜¯æ‡’åŠ è½½ï¼Œèµ„æºå…ˆåˆ°å…ˆå¾—ï¼‰ï¼Œä¹Ÿä¸æç¤ºé”™è¯¯è€Œæ˜¯ç›´æ¥å¿½ç•¥ï¼Œèµ„æºæ•°é‡å¤ªå¤šå»ºè®®ä½¿ç”¨çƒ­ç‚¹å‚æ•°æ§åˆ¶ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹äºé™æµçš„é“¾è·¯æ¨¡å¼ï¼Œcontext é˜ˆå€¼æ˜¯ 2000ï¼Œæ‰€ä»¥é»˜è®¤çš„ WEB_CONTEXT_UNIFY ä¸º trueï¼Œå¦‚æœéœ€è¦é“¾è·¯é™æµéœ€è¦æŠŠè¿™ä¸ªæ”¹ä¸º falseã€‚&lt;/li&gt;
&lt;li&gt;è‡ªå®šä¹‰æ—¶ï¼Œèµ„æºåä¸­ä¸è¦å¸¦ &lt;code&gt;|&lt;/code&gt; çº¿ï¼Œ è¿™ä¸ªæ—¥å¿—ä¸­è¦ç”¨ï¼Œæ—¥å¿—ä»¥æ­¤ä½œä¸ºåˆ†å‰²ç¬¦ã€‚&lt;/li&gt;
&lt;li&gt;Sentinel æ”¯æŒæŒ‰æ¥æºé™æµï¼Œæ³¨æ„ &lt;code&gt;origin&lt;/code&gt; æ•°é‡ä¸èƒ½å¤ªå¤šï¼Œå¦åˆ™ä¼šå¯¼è‡´å†…å­˜æš´æ¶¨ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªèµ„æºå¯ä»¥æœ‰å¤šä¸ªè§„åˆ™ï¼Œä¸€æ¡è¯·æ±‚èƒ½å¦é€šè¿‡ï¼Œå–å†³äºè§„åˆ™é‡Œé˜ˆå€¼æœ€å°çš„é™åˆ¶æ¡ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;é™æµçš„ç›®çš„æ˜¯ä¿æŠ¤ç³»ç»Ÿï¼Œè®¡æ•°è®¡é‡å¹¶ä¸å‡†ç¡®ï¼Œæ‰€ä»¥ä¸è¦æ‹¿é™æµåšè®¡é‡æˆ–é…é¢æ§åˆ¶ã€‚&lt;/li&gt;
&lt;li&gt;å¢åŠ é™æµä¸€å®šç¨‹åº¦ä¸Šé€šè¿‡æ—¶é—´æ¢ç©ºé—´ï¼Œé™ä½äº† CPUã€å†…å­˜è´Ÿè½½ï¼Œå¯¹ K8S HPA ç­–ç•¥ä¼šæœ‰ä¸€å®šå½±å“ã€‚åç»­æˆ‘ä»¬ä¹Ÿä¼šè€ƒè™‘æ ¹æ® Sentinel é™æµæŒ‡æ ‡è¿›è¡Œæ‰©ç¼©å®¹ã€‚&lt;/li&gt;
&lt;li&gt;é™æµä¸­å¦‚æœæœ‰å¢åŠ ç­‰å¾…æ•ˆæœä¼šä½¿æ¥å£å˜æ…¢ï¼Œå„è°ƒç”¨é“¾éœ€è¦å…³æ³¨è°ƒç”¨è¶…æ—¶å’Œäº‹åŠ¡é…ç½®ã€‚&lt;/li&gt;
&lt;li&gt;ç›®å‰ sentinel-web-servlet å’Œ sentinel-spring-webmvc-adapter å‡ä¸æ”¯æŒçƒ­ç‚¹å‚æ•°é™æµã€‚ä¸ºäº†æ”¯æŒçƒ­ç‚¹å‚æ•°éœ€è¦è‡ªè¡Œæ‰©å±•ã€‚&lt;/li&gt;
&lt;li&gt;sentinel-web-servlet å’Œ sentinel-spring-webmvc-adapter ä¼šå°†æ¯ä¸ªåˆ°æ¥çš„ä¸åŒçš„ URL éƒ½ä½œä¸ºä¸åŒçš„èµ„æºå¤„ç†ï¼Œå› æ­¤å¯¹äº REST é£æ ¼çš„ APIï¼Œéœ€è¦è‡ªè¡Œå®ç° UrlCleaner æ¥å£æ¸…æ´—ä¸€ä¸‹èµ„æºï¼ˆæ¯”å¦‚å°†æ»¡è¶³ /foo/:id çš„ URL éƒ½å½’åˆ° /foo/* èµ„æºä¸‹ï¼‰ã€‚å¦åˆ™ä¼šå¯¼è‡´èµ„æºæ•°é‡è¿‡å¤šï¼Œè¶…å‡ºèµ„æºæ•°é‡é˜ˆå€¼ï¼ˆç›®å‰æ˜¯ 6000ï¼‰æ—¶å¤šå‡ºçš„èµ„æºçš„è§„åˆ™å°†ä¸ä¼šç”Ÿæ•ˆã€‚&lt;/li&gt;
&lt;li&gt;Java ä¸­ &lt;code&gt;sentinel-time-tick-thread&lt;/code&gt; çº¿ç¨‹ä¼šé¢å¤–å¤šå ç”¨çº¦ 1-2% CPUï¼Œè¯¦ç»†ä»£ç å‚è€ƒ &lt;code&gt;com.alibaba.csp.sentinel.util.TimeUtil&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸€äº›æ–‡æ¡£ä¸­å°šæœªæ›´æ–°ä½†æ˜¯å¤§å®¶å¯èƒ½å…³å¿ƒçš„å†…å®¹ï¼š&lt;/p&gt;</description></item><item><title>é‡å¤ Transfer-Encoding Response Header å¼•èµ·çš„ Traefik ä»£ç†æœåŠ¡ 500 é—®é¢˜</title><link>https://www.xlabs.club/blog/duplicate-transfer-encoding-chunked/</link><pubDate>Sun, 26 Nov 2023 10:21:44 +0800</pubDate><guid>https://www.xlabs.club/blog/duplicate-transfer-encoding-chunked/</guid><description>&lt;p&gt;æˆ‘æœ‰ä¸€ä¸ª Spring Boot åº”ç”¨æœåŠ¡ï¼Œæä¾›äº†ä¸€äº›ç®€å•çš„æŸ¥è¯¢æ¥å£ï¼Œæœ¬èº«è¿è¡Œå¾ˆæ­£å¸¸ï¼Œé€šè¿‡ curl æˆ–å…¶ä»– http å®¢æˆ·ç«¯ localhost è¯·æ±‚éƒ½æ²¡æœ‰é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;æŸå¤©é€šè¿‡ Traefik ä»£ç†äº†æ­¤æœåŠ¡ï¼Œç»è¿‡ä»£ç†åå†è®¿é—®ï¼ŒæŸä¸ªæ¥å£ä¸€ç›´éƒ½æ˜¯ &lt;code&gt;500 internal server error&lt;/code&gt;ï¼Œå…¶ä»–æ¥å£éƒ½æ²¡æœ‰é—®é¢˜ã€‚é€šè¿‡ tcpdump æŠ“åŒ…å‘ç°ï¼Œåº”ç”¨æœåŠ¡å¹¶æ²¡æœ‰è¿”å›ä»»ä½• 500 é”™è¯¯ï¼Œè€Œä¸”å“åº”æ—¶é—´å’Œ Body ä½“å¤§å°éƒ½å¾ˆæ­£å¸¸ã€‚&lt;/p&gt;
&lt;p&gt;æ ¹æ®ç½‘ä¸Šç»éªŒæ’æŸ¥äº† Traefik SSL è¯ä¹¦é—®é¢˜ã€è·¯å¾„é—®é¢˜ã€æ¶ˆæ¯ä½“å¤ªå¤§é—®é¢˜ã€è¯·æ±‚ Header ä¸åˆè§„é—®é¢˜ï¼Œéƒ½ä¸€ä¸€å¦å®šã€‚æœ€åæ— æ„é—´çœ‹äº†ä¸€çœ¼ Response Headerï¼Œå‘ç° Spring Boot åº”ç”¨è¿”å›äº†ä¸¤ä¸ª &lt;code&gt;Transfer-Encoding: chunked&lt;/code&gt; Headerã€‚&lt;/p&gt;
&lt;p&gt;å†æ ¹æ®æ­¤ Header æœç´¢ï¼Œå‘ç°æœç„¶æœ‰äººé‡åˆ°è¿‡ç±»ä¼¼é—®é¢˜ï¼Œè¯·å‚è€ƒè¿™å‡ ä¸ªé“¾æ¥ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/traefik/traefik/issues/7741" target="_blank" rel="noopener"&gt;https://github.com/traefik/traefik/issues/7741&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/spring-projects/spring-framework/issues/21523" target="_blank" rel="noopener"&gt;https://github.com/spring-projects/spring-framework/issues/21523&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/spring-projects/spring-boot/issues/37646" target="_blank" rel="noopener"&gt;https://github.com/spring-projects/spring-boot/issues/37646&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://stackoverflow.com/questions/77042701/nginx-upstream-sent-duplicate-header-line-transfer-encoding-chunked-previo" target="_blank" rel="noopener"&gt;https://stackoverflow.com/questions/77042701/nginx-upstream-sent-duplicate-header-line-transfer-encoding-chunked-previo&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»ä¸Šé¢é“¾æ¥æè¿°ä¸­å¯çŸ¥ï¼Œä¸ä»… Traefik ä¼šå‡ºç°æ­¤é—®é¢˜ï¼Œnginx åŒ…å«ä»¥ nginx ä¸ºåŸºç¡€çš„ ingress ä¹Ÿä¼šå‡ºç°åŒæ ·é—®é¢˜ï¼Œä¸è¿‡ nginx è¿”å›é”™è¯¯ä¿¡æ¯ç±»ä¼¼ &lt;code&gt;Nginx: upstream sent duplicate header line: &amp;quot;Transfer-Encoding: chunked&amp;quot;, previous value: &amp;quot;Transfer-Encoding: chunkedâ€&lt;/code&gt; ï¼Œè¿”å›é”™è¯¯ç ä¸€èˆ¬æ˜¯ 502 Bad Gatewayã€‚&lt;/p&gt;</description></item><item><title>K8S Pod å®¹å™¨å†… Java è¿›ç¨‹å†…å­˜åˆ†æï¼Œå†…å­˜è™šé«˜ä»¥åŠå®¹å™¨ OOM æˆ– Jave OOM é—®é¢˜å®šä½</title><link>https://www.xlabs.club/blog/java-memory/</link><pubDate>Sat, 07 Jan 2023 10:54:37 +0800</pubDate><guid>https://www.xlabs.club/blog/java-memory/</guid><description>&lt;p&gt;æ•…äº‹èƒŒæ™¯ï¼š&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ª K8S Podï¼Œé‡Œé¢åªæœ‰ä¸€ä¸ª Java è¿›ç¨‹ï¼ŒK8S request å’Œ limit memory éƒ½æ˜¯ 2Gï¼ŒJava è¿›ç¨‹æ ¸å¿ƒå‚æ•°åŒ…æ‹¬ï¼š&lt;code&gt;-XX:+UseZGC -Xmx1024m -Xms768m&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æœåŠ¡å¯åŠ¨ä¸€æ®µæ—¶é—´åï¼ŒæŸ¥çœ‹ Grafana ç›‘æ§æ•°æ®ï¼ŒPod å†…å­˜ä½¿ç”¨é‡çº¦ 1.5Gï¼ŒJVM å†…å­˜ä½¿ç”¨é‡çº¦ 500Mï¼Œé€šè¿‡ jvm dump åˆ†ææ²¡æœ‰ä»»ä½•å¤§å¯¹è±¡ï¼Œè¿è¡Œä¸‰äº”å¤©åå‡ºç° K8S Container OOMã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆåŒºåˆ†ä¸‹ Container OOM å’Œ Jvm OOMï¼ŒContainer OOM æ˜¯ Pod å†…è¿›ç¨‹ç”³è¯·å†…å­˜å¤§çº¦ K8S Limit æ‰€è‡´ã€‚&lt;/p&gt;
&lt;p&gt;é—®é¢˜æ¥äº†ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Pod 2G å†…å­˜ï¼ŒJVM è®¾ç½®äº† &lt;code&gt;Xmx 1G&lt;/code&gt;ï¼Œå·²ç»é¢„ç•™äº† 1G å†…å­˜ï¼Œä¸ºä»€ä¹ˆè¿˜ä¼š Container OOMï¼Œè¿™é¢„ç•™çš„ 1G å†…å­˜è¢«è°åƒäº†ã€‚&lt;/li&gt;
&lt;li&gt;æ­£å¸¸æƒ…å†µä¸‹ï¼ˆæ—  Container OOMï¼‰ï¼ŒGrafana çœ‹åˆ°çš„ç›‘æ§æ•°æ®ï¼ŒPod å†…å­˜ä½¿ç”¨é‡ 1.5Gï¼Œ JVM å†…å­˜ä½¿ç”¨é‡ 500Mï¼Œå·®åˆ«ä¸ºä»€ä¹ˆè¿™ä¹ˆå¤§ã€‚&lt;/li&gt;
&lt;li&gt;Pod å†…å­˜ä½¿ç”¨é‡ä¸ºä»€ä¹ˆè¶…è¿‡ Xmx é™åˆ¶ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Grafana ç›‘æ§å›¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="./grafana-pod-jvm.png"&gt;

&lt;img
 src="https://www.xlabs.club/blog/java-memory/grafana-pod-jvm_hu_f3e003bf88afca3a.webp"
 width="1920"
 height="3600"
 decoding="async"
 fetchpriority="auto"
 loading="lazy"
 alt="Grafana ç›‘æ§å›¾"
 id="h-rh-i-0"
&gt;&lt;/a&gt;
&lt;/p&gt;</description></item><item><title>Spring Boot ä½¿ç”¨ Micrometer é›†æˆ Prometheus ç›‘æ§ï¼Œ5 åˆ†é’Ÿæ¥å…¥è‡ªå®šä¹‰ç›‘æ§æŒ‡æ ‡</title><link>https://www.xlabs.club/blog/spring-boot-micrometer/</link><pubDate>Mon, 07 Aug 2023 10:54:37 +0800</pubDate><guid>https://www.xlabs.club/blog/spring-boot-micrometer/</guid><description>&lt;p&gt;Spring Boot ä½¿ç”¨ Micrometer é›†æˆ Prometheus ç›‘æ§ï¼Œ5 åˆ†é’Ÿæ¥å…¥è‡ªå®šä¹‰ç›‘æ§æŒ‡æ ‡ï¼Œä¸»è¦å†…å®¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Micrometer ä»‹ç»ã€‚&lt;/li&gt;
&lt;li&gt;ä¸šåŠ¡å¦‚ä½•è‡ªå®šä¹‰æŒ‡æ ‡ï¼Œå¦‚ä½•æ¥å…¥ Prometheusï¼Œå®ç°æ–¹å¼å’Œè§„èŒƒã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="micrometer-ä»‹ç»"&gt;Micrometer ä»‹ç»&lt;/h2&gt;
&lt;p&gt;Micrometer ä¸º Java å¹³å°ä¸Šçš„æ€§èƒ½æ•°æ®æ”¶é›†æä¾›äº†ä¸€ä¸ªé€šç”¨çš„ APIï¼Œåº”ç”¨ç¨‹åºåªéœ€è¦ä½¿ç”¨ Micrometer çš„é€šç”¨ API æ¥æ”¶é›†æ€§èƒ½æŒ‡æ ‡ï¼ŒMicrometer ä¼šè´Ÿè´£å®Œæˆä¸ä¸åŒç›‘æ§ç³»ç»Ÿçš„é€‚é…å·¥ä½œã€‚&lt;/p&gt;
&lt;p&gt;Micrometer æä¾›äº†å¤šç§åº¦é‡æŒ‡æ ‡ç±»å‹ï¼ˆTimersã€Guaugesã€Counters ç­‰ï¼‰ï¼ŒåŒæ—¶æ”¯æŒæ¥å…¥ä¸åŒçš„ç›‘æ§ç³»ç»Ÿï¼Œä¾‹å¦‚ Influxdbã€Graphiteã€Prometheusã€OTLP ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;ä» Spring Boot 2.x å¼€å§‹ä½¿ç”¨ Micrometer ä½œä¸ºé»˜è®¤çš„ç›‘æ§é—¨é¢æ¥å£ï¼Œ &lt;code&gt;Think SLF4J, but for observability&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;h3 id="micrometer-æ ¸å¿ƒæ¦‚å¿µ"&gt;Micrometer æ ¸å¿ƒæ¦‚å¿µ&lt;/h3&gt;
&lt;p&gt;Micrometer ä¸­ä¸¤ä¸ªæœ€æ ¸å¿ƒçš„æ¦‚å¿µï¼šè®¡é‡å™¨æ³¨å†Œè¡¨ (MeterRegistry)ï¼Œè®¡é‡å™¨ (Meter)ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;MeterRegistry&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å†…å­˜æ³¨å†Œè¡¨ (SimpleMeterRegistry): åœ¨å†…å­˜ä¸­ä¿å­˜æ¯ä¸€ä¸ª Meterï¼ˆæŒ‡æ ‡ï¼‰çš„æœ€æ–°å€¼ï¼Œå¹¶ä¸”ä¸ä¼šå°†æ•°æ®å¯¼å‡ºåˆ°ä»»ä½•åœ°æ–¹ã€‚&lt;/li&gt;
&lt;li&gt;ç»„åˆæ³¨å†Œè¡¨ (CompositeMeterRegistry): å¯ä»¥æ·»åŠ å¤šä¸ªæ³¨å†Œè¡¨ï¼Œç”¨äºå°†å„ä¸ªæ³¨å†Œè¡¨ç»„åˆèµ·æ¥ï¼Œå¯ä»¥åŒæ—¶å°†æŒ‡æ ‡å‘å¸ƒåˆ°å¤šä¸ªç›‘æ§ç³»ç»Ÿã€‚Micrometer æä¾›äº†ä¸€ä¸ªå…¨å±€çš„ MeterRegistryï¼Œ&lt;code&gt;io.micrometer.core.instrument.Metrics&lt;/code&gt; ä¸­æŒæœ‰ä¸€ä¸ªé™æ€ final çš„ CompositeMeterRegistry å®ä¾‹ globalRegistryã€‚&lt;/li&gt;
&lt;li&gt;æ™®ç½—ç±³ä¿®æ–¯æ³¨å†Œè¡¨ (PrometheusMeterRegistry): å½“ä½¿ç”¨æ™®ç½—ç±³ä¿®æ–¯ç›‘æ§æ—¶ï¼Œå¼•å…¥ micrometer-registry-prometheus ä¾èµ–æ—¶ä¼šæä¾›æ­¤ç§æ”¶é›†å™¨ï¼Œç”¨äºå°†æŒ‡æ ‡æ•°æ®è½¬æ¢ä¸ºæ™®ç½—ç±³ä¿®æ–¯è¯†åˆ«çš„æ ¼å¼å’Œå¯¼å‡ºæ•°æ®ç­‰åŠŸèƒ½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Meterï¼ˆæŒ‡æ ‡ï¼‰&lt;/p&gt;
&lt;p&gt;ç›‘æ§æ•°æ®çš„æ•´ä¸ªè¿‡ç¨‹éƒ½æ˜¯å›´ç»•ç€ Meterï¼ˆæŒ‡æ ‡ï¼‰, é€šè¿‡ä¸€ä¸ªä¸€ä¸ªçš„ Meterï¼ˆæŒ‡æ ‡ï¼‰æ•°æ®æ¥è¿›è¡Œè§‚å¯Ÿåº”ç”¨çš„çŠ¶æ€ã€‚å¸¸ç”¨çš„æŒ‡æ ‡å¦‚ï¼š&lt;/p&gt;</description></item></channel></rss>